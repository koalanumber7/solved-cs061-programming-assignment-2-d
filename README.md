Download Link: https://assignmentchef.com/product/solved-cs061-programming-assignment-2-d
<br>
<strong>Objective  </strong>

To further familiarize you with the basic LC-3 instructions;

to understand the difference between numeric characters and actual numbers; to handle two’s complement conversions; and to perform basic input/output.




<strong>High Level Description </strong>

Prompt the user to input two single digit numbers.

The second will then be subtracted from the first, and the operation reported in the console:

&lt;first number&gt; – &lt;second number&gt; = &lt;difference&gt;

SO if the user enters 8 and 4, these two numbers will first be echoed to the console on separate lines, then the subtraction operation will be displayed:




<em>Note: the user </em><u>​<em>does not enter</em></u>​<em> any newlines; all newlines are to be generated by the program itself. </em>




<strong>LC-3 I/O</strong>

First, read this <u>​</u><a href="https://docs.google.com/document/d/14vaOKv7-IpuY8VWcoQnq8opl5CpcLHay7sTZG4BzoY4/edit?usp=sharing">brief intro to the LC-3 BIOS</a><u>​</u> (Basic Input Output System)




<strong>Low Level Breakdown </strong>

This assignment comprises five tasks:

<ol>

 <li>Prompt the user, and read two numeric characters ​<em>(‘0’ … ‘9’)</em>​ from the user using Trap x20 (GETC). Echo the characters to the console ​<u>as they are received</u>​ (OUT), and store them as <strong>character </strong>​data in separate registers.</li>

 <li>Output to the console the operation being performed e.g.</li>

</ol>

5 – 7 =

<em>(how will you print the ” – “? How will you print the ” = “? Note the double quotes!!) </em>

<ol start="3">

 <li>Once the setup is printed, convert the numeric characters into the actual numbers they represent (e.g. convert the ​<em><u>ASCII code for ‘7’</u></em>​ into the <u>​<em>binary representation of the number 7</em></u>​).</li>

 <li>Perform the subtraction operation ​<em>(by taking the two’s complement of the second operand and adding)</em>​, and determine the sign (+/-) of the result; if it is negative, determine the ​<em><u>magnitude</u></em>​ of the result ​<em>(i.e. take the 2’s complement to turn it back into a positive number)</em>​.</li>

 <li>Convert resulting ​<em>number</em>​ back to a printable ​<em>character</em>​ and output it, together with a minus sign if necessary. Remember, the number -4 when converted to text is actually two separate ascii characters, ‘-‘ and ‘4’.</li>

</ol>

<strong> </strong>

<strong><u>Reminder</u></strong><u>​</u><strong>: Make sure you </strong>​<strong><u>always</u></strong><u>​</u><strong> have your Text Window open when you run simpl – this is the only way to catch run-time (mostly i/o) errors!           </strong>

<strong>Example, with detailed algorithm </strong>​<strong><em>(we won’t always give you this!) </em></strong>● Program prompts for user input (two characters):

<ul>

 <li>user enters ‘5’, which is echoed to console (followed by a newline) and copied to a register.</li>

 <li>user enters ‘7’, which is echoed to console (followed by a newline) and copied to a different register.</li>

 <li>Program outputs the text</li>

</ul>

5 – 7 =

<em>(this will actually require at least 4 distinct output steps using OUT and PUTS) </em>

<ul>

 <li>Program converts ‘5’ ​<em>(ascii code)</em>​ into 5 ​<em>(number)</em>​ and stores it back in the same register.</li>

 <li>Program converts ‘7’ into 7 and stores it back in the same register.</li>

 <li>Program takes 2’s complement of 7, and stores the result back into the same register.</li>

 <li>Program adds the contents of the two registers – i.e. it performs the operation (​5-7​) and stores the result (-2) in a third register.</li>

 <li>Program recognizes that result is negative, obtains the magnitude of -2 (= 2), and outputs <strong>‘-‘</strong>​ (minus sign).</li>

 <li>Program converts 2 ​<em>(number)</em>​ into ‘2’ ​<em>(ascii code)</em>​, and stores it back in the same register.</li>

 <li>Program outputs ‘2’ <u>​<em>followed by a newline</em></u>​.</li>

</ul>




<strong> </strong>

<strong>Expected/ Sample output </strong>

In this assignment, your output must ​<strong><em>exactly</em></strong>​ match the following, including:

<ul>

 <li>the prompt, ​<em><u>followed by newline</u></em>​<em> (provided in the starter code) </em></li>

 <li>Each digit input “echoed” and ​<em><u>followed by a newline</u> </em></li>

 <li>the subtraction operation, including spaces as shown, also <u>​<em>followed by a newline</em></u>​:</li>

</ul>










(Difference is Positive)







(Difference is Zero)
















(Difference is Negative)




Your code will obviously be tested with a range of different operands giving all possible results. Make sure you test your code likewise!




<strong>NOTES</strong>:​

<ul>

 <li>All console output must be <strong>NEWLINE terminated.</strong>​</li>

 <li>We will test only with <strong>positive single digit numeric inputs</strong>​</li>

 <li><strong>NO </strong>error message is needed for invalid input (i.e. we will not test with non-numeric inputs)​ <strong>Uh</strong><u>…</u><strong>help? </strong></li>

 <li>Trap x20 (GETC) will ​<em>always</em>​ store the input character into R0.</li>

</ul>

You cannot specify any other register to receive the keyboard input.

<ul>

 <li>Trap x21 (OUT) will ​<em>always</em>​ print whatever ASCII code is stored in R0. You cannot specify any other register to output to screen.</li>

 <li>If the user enters ‘7’, the value stored into R0 is the ​<u>ASCII code</u>​ b0000 0000 0011 0111  ( = x0037 = ‘7’ ), <u>​<strong><em>not</em></strong></u>​  the <u>​number</u>​ 7 = b0000 0000 0000 0111 (= x0007 or #7).</li>

</ul>

Likewise, to output the number 7 as a character, it has to be adjusted from x0007 to x0037 first. Go to​ ​<a href="https://www.asciitable.com/">www.asciitable.com</a>​ and see why.




<strong><em>Note:</em></strong>​<em> you should ALWAYS refer to the ascii numeric offset as </em>​<strong><em>x30</em></strong>​<em>, NEVER as #48. </em>

<em>The ascii table only makes sense when understood as a </em>​<strong><em>binary</em></strong>​<em> code (readable as hex). </em>




<em>Conversion between a character and the number it represents and vice versa will be used repeatedly in this course, so make sure you understand how to do it now!! </em>

<ul>

 <li>To take the two’s complement of a number ​<em>(i.e. make a positive number negative or vice versa)</em>​: – Invert the bits ​<em>(what assembly instruction does this?)</em> – Add one</li>

 <li>A neat trick in LC3 to copy the value of one register directly to another:</li>

</ul>

ADD R5, R6, #0   ; R5 ← (R6) + 0,  i.e.  R5 ← (R6)

<ul>

 <li>If the result is negative, remember that you will have to print ​<em><u>two</u></em>​ characters, not one ​<em>(there is no ASCII code for ‘-1’, right?) </em></li>

 <li>If you are struggling with writing LC-3 code from scratch, try writing the program out in pseudo-code or even C++ first. Then, your only task is to convert the logic/code into LC-3.</li>

</ul>

<strong> </strong>

<strong> </strong>

<strong>Submission Instructions </strong>

Submit (“Upload”) your ​<strong>assignment2.asm</strong>​ file ​<em>(and ONLY that file!)</em>​ to the Programming Assignment 2 folder in Gradescope: the Autograder will run &amp; report your grade within a minute or so.  You may submit as many times as you like – your grade will be that of your last submission. <em>If you wish to set your grade to a previous submission with a higher score, you may open your “Submission history” and “Activate” any other submission – that’s the one we will see.</em>

<strong> </strong>

<strong>Rubric </strong>

<ul>

 <li><strong>To pass the assignment, you need a score of &gt;= 80%</strong>​.</li>

</ul>

The autograder will run several tests on your code, and assign a grade for each.

But certain errors ​<em>(run-time errors, incorrect usage of I/O routines, missing newlines, etc.)</em>​ may cause ALL tests to fail =&gt; 0/100! So submit early and study the autograder report carefully!!




<ul>

 <li><strong>You must use the template we provide</strong>​ – if you make ​<em><u>any</u></em>​ changes to the provided starter code, the autograder may not be able to interpret the output, resulting in a grade of 0.</li>

</ul>

<strong>             </strong>

<strong>Comics??! Sweet!!! </strong>

<strong> </strong>

Source: ​<a href="https://xkcd.com/409/">http://xkcd.com/409/</a>

<strong> </strong>